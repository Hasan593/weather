(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();const d={icon:document.getElementById("weather-icon"),background:document.getElementById("background"),form:document.getElementById("form"),loadingElement:document.getElementById("loading")},u="92dc89e6fc7e5352e0b9d2239365e04e",l="https://api.openweathermap.org/data/2.5/weather",a=(s,t,o=!1)=>{const r=document.getElementById(s);if(r)o?r.innerHTML=t:r.innerText=t;else return},g={Haze:"./assets/icone/haze.svg",Rain:"./assets/icone/rainy.svg",Snow:"./assets/icone/snow.svg",Thunderstorm:"./assets/icone/thunder.svg",Clouds:"./assets/icone/cloud.svg"},f={Haze:"./assets/background/mist.jpeg",Rain:"./assets/background/rainy-day.jpg",Snow:"./assets/background/clear-sky.jpg",Thunderstorm:"./assets/background/thunderstorm.jpg",Clouds:"./assets/background/clouds.png"},m=async s=>{const{latitude:t,longitude:o,city:r}=s||{};try{const e=r?`${l}?q=${r}&appid=${u}&units=metric`:`${l}?lat=${t}&lon=${o}&appid=${u}&units=metric`,n=await p(e);h(n)}catch(e){console.log("error"+e.message)}},p=async s=>{const t=await fetch(s);if(!t.ok)throw new Error(" fetching faild");return await t.json()},h=s=>{const{name:t,main:{temp:o,feels_like:r,temp_max:e,temp_min:n,humidity:i},wind:{speed:y}}=s,{main:c}=s.weather[0];a("city-name",`${t}`=="Sāmāir"?"Badda":`${t}`),a("temp",`${Math.round(o)}°C`),a("feel",`Feels_Like: ${Math.round(r)}°C`),a("haze",c),a("max-temp",`${Math.round(e)}°C <i class="fa-solid fa-temperature-high"></i>`,!0),a("min-temp",`${Math.round(n)}°C <i class="fa-solid fa-temperature-high"></i>`,!0),a("humidity",`${i}% <i class="fa-solid fa-droplet"></i>`,!0),d.icon.src=g[c]||"./assets/icone/sun.svg",d.background.style.backgroundImage=`url(${f[c]})`||"url(./assets/background/sunny.jpg)"};form.addEventListener("submit",s=>{s.preventDefault();const t=s.target["search-input"].value.trim();t&&(m({city:t}),s.target["search-input"].value="")});navigator.geolocation.getCurrentPosition(s=>{const{latitude:t,longitude:o}=s.coords;m({latitude:t,longitude:o})});
